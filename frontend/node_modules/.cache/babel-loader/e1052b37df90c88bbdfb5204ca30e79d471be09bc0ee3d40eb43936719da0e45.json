{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dev24\\\\Documents\\\\Project\\\\laundry-app\\\\frontend\\\\src\\\\pages\\\\Subscription.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Grid, Card, CardContent, CardActions, Button, Box, CircularProgress } from '@mui/material';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport api from '../utils/axios';\nimport { useAuth } from '../context/authContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubscriptionPage = () => {\n  _s();\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchSubscriptions = async () => {\n      try {\n        const res = await api.get('/subscriptions');\n        setSubscriptions(res.data.data);\n      } catch (error) {\n        console.error(\"Failed to load subscriptions\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSubscriptions();\n  }, []);\n  const handleSubscribe = async subscriptionId => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    try {\n      await api.post(`/subscriptions/${subscriptionId}/subscribe`);\n      alert('Subscription successful!');\n      // Optionally, refresh user data in context or redirect\n      navigate('/dashboard');\n    } catch (error) {\n      alert('Subscription failed. Please try again.');\n      console.error('Subscription error:', error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 5\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 75\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"Choose Your Plan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 5\n      },\n      children: \"Simple, transparent pricing for all your laundry needs.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      alignItems: \"flex-end\",\n      children: subscriptions.map(plan => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              component: \"div\",\n              gutterBottom: true,\n              children: plan.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"primary\",\n              sx: {\n                my: 2\n              },\n              children: [\"\\u20B9\", plan.price, /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                component: \"span\",\n                color: \"text.secondary\",\n                children: [\"/ \", plan.durationInDays === 30 ? 'month' : 'year']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              paragraph: true,\n              children: plan.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: plan.features.map(feature => /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                  color: \"success\",\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: feature\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this)]\n              }, feature, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              fullWidth: true,\n              variant: \"contained\",\n              onClick: () => handleSubscribe(plan._id),\n              children: \"Subscribe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, plan.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(SubscriptionPage, \"YwWhPFzgo/hSD/kEpJIR5DzT1fk=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = SubscriptionPage;\nexport default SubscriptionPage;\nvar _c;\n$RefreshReg$(_c, \"SubscriptionPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Grid","Card","CardContent","CardActions","Button","Box","CircularProgress","CheckCircleIcon","api","useAuth","useNavigate","jsxDEV","_jsxDEV","SubscriptionPage","_s","subscriptions","setSubscriptions","loading","setLoading","user","navigate","fetchSubscriptions","res","get","data","error","console","handleSubscribe","subscriptionId","post","alert","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","variant","align","gutterBottom","color","mb","container","spacing","alignItems","map","plan","item","xs","sm","md","component","name","my","price","durationInDays","paragraph","description","features","feature","mr","fullWidth","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/dev24/Documents/Project/laundry-app/frontend/src/pages/Subscription.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Typography, Grid, Card, CardContent, CardActions, Button, Box, CircularProgress } from '@mui/material';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport api from '../utils/axios';\r\nimport { useAuth } from '../context/authContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst SubscriptionPage = () => {\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchSubscriptions = async () => {\r\n      try {\r\n        const res = await api.get('/subscriptions');\r\n        setSubscriptions(res.data.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to load subscriptions\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchSubscriptions();\r\n  }, []);\r\n\r\n  const handleSubscribe = async (subscriptionId) => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    try {\r\n      await api.post(`/subscriptions/${subscriptionId}/subscribe`);\r\n      alert('Subscription successful!');\r\n      // Optionally, refresh user data in context or redirect\r\n      navigate('/dashboard');\r\n    } catch (error) {\r\n      alert('Subscription failed. Please try again.');\r\n      console.error('Subscription error:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <Box sx={{ display: 'flex', justifyContent: 'center', mt: 5 }}><CircularProgress /></Box>;\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h3\" align=\"center\" gutterBottom>\r\n        Choose Your Plan\r\n      </Typography>\r\n      <Typography variant=\"h6\" align=\"center\" color=\"text.secondary\" sx={{ mb: 5 }}>\r\n        Simple, transparent pricing for all your laundry needs.\r\n      </Typography>\r\n      <Grid container spacing={4} alignItems=\"flex-end\">\r\n        {subscriptions.map((plan) => (\r\n          <Grid item key={plan.name} xs={12} sm={6} md={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"div\" gutterBottom>\r\n                  {plan.name}\r\n                </Typography>\r\n                <Typography variant=\"h4\" color=\"primary\" sx={{ my: 2 }}>\r\n                  â‚¹{plan.price}\r\n                  <Typography variant=\"body1\" component=\"span\" color=\"text.secondary\">\r\n                    / {plan.durationInDays === 30 ? 'month' : 'year'}\r\n                  </Typography>\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\r\n                  {plan.description}\r\n                </Typography>\r\n                <Box>\r\n                  {plan.features.map((feature) => (\r\n                    <Box key={feature} sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <CheckCircleIcon color=\"success\" sx={{ mr: 1 }} />\r\n                      <Typography variant=\"body1\">{feature}</Typography>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button fullWidth variant=\"contained\" onClick={() => handleSubscribe(plan._id)}>\r\n                  Subscribe\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SubscriptionPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}